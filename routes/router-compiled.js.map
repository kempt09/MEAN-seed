{"version":3,"sources":["router.js"],"names":[],"mappings":"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","file":"router-compiled.js","sourcesContent":["var express = require('express');\nvar router = express.Router();\nvar Person = require('./../modules/data');\n\n// Handles front-end routing\nrouter.get('/', function (req, res) {\n    'use strict';\n    res.sendfile('./public/index.html'); // load our public/index.html file\n});\n\n// API Configuration\n\nrouter.get('/api', function (req, res) {\n    'use strict';\n    res.json({greeting: 'hello'});\n});\n\nrouter.use(function (req, res, next) {\n    next(); // make sure we go to the next route\n});\n\n// API Calls for Person Models (accessed at POST http://localhost:8080/api/person)\nrouter.route('/person')\n    // create a Person\n    .post(function (req, res) {\n        'use strict';\n        var person = new Person();      // create a new instance of the Person model\n        person.name = req.body.name;    // properties for our model\n        person.age = req.body.age;\n        person.location = req.body.location;\n        person.title = req.body.title;\n        person.department = req.body.department;\n\n        // save the Person and check for errors\n        person.save(function (err) {\n            if (err) {\n                res.send(err);\n            }\n            res.json({message: 'Person created!'});\n        });\n    })\n    .get(function (res, req) { //get the entire collection of people\n        'use strict';\n        Person.find(function (err, payload) {\n            if (err) {\n                res.send(err);\n            }\n            console.log('huh');\n            req.json(payload);\n        });\n    });\nrouter.route('/person/:people_id') // search and manipulate person by specific id\n    .get(function (req, res) {\n        'use strict';\n        // Get Person by ID\n        Person.findById(req.params.people_id, function (err, payload) {\n            if (err)\n                res.send(err);\n            res.json(payload);\n        });\n    })\n        // Update Person Info\n    .put(function (req, res) { // update person information\n        'use strict';\n        Person.findById(req.params.people_id, function (err, person) {\n            if (err) {\n                res.send(err);\n            }\n            person.name = req.body.name;  // update the persons info\n            person.age = req.body.age;\n            person.location = req.body.location;\n            person.title = req.body.title;\n            person.department = req.body.department;\n\n            // save the bear\n            person.save(function (err) {\n                if (err) {\n                    res.send(err);\n                }\n                res.json({message: 'Person updated!'});\n            });\n        });\n    })\n    .delete(function(req, res){ // delete person from database\n        'use strict';\n        Person.remove({_id: req.params.people_id}, function (err, person) {\n            if (err) {\n                res.send(err);\n            }\n            res.json({message: 'Person deleted'});\n        });\n    });\nmodule.exports = router;"]}